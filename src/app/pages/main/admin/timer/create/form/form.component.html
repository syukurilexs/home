<form [formGroup]="fg" novalidate (ngSubmit)="onSubmit()">
  <mat-card class="shipping-card">
    <mat-card-header>
      <mat-card-title>Timer</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="column">
        <mat-form-field class="full-width">
          <mat-select placeholder="Device" formControlName="device">
            @for (device of devices; track $index) {
              <mat-option [value]="device.id">
                {{ device.name }}
              </mat-option>
            }
          </mat-select>
          @if (fg.controls["device"].hasError("required")) {
            <mat-error> Device is <strong>required</strong> </mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            name="selected_time_A"
            formControlName="selectedTime"
            [ngxMatTimepicker]="pickerA"
            placeholder="4:00 PM"
            readonly
          />
          <mat-icon matSuffix (click)="pickerA.open()" > schedule </mat-icon>
        </mat-form-field>
      </div>
      <ngx-mat-timepicker #pickerA></ngx-mat-timepicker>
      <div class="row gap1 ai-center">
        <div class="col">
          <mat-slide-toggle formControlName="state" #state>{{
            state.checked ? "On " : "Off"
          }}</mat-slide-toggle>
        </div>
        <div class="col">
          <mat-checkbox formControlName="option" #option>{{
            option.checked ? "Enable" : "Disable"
          }}</mat-checkbox>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button
        [disabled]="fg.invalid"
        mat-flat-button
        color="primary"
        type="submit"
      >
        {{ submitButton }}
      </button>
    </mat-card-actions>
  </mat-card>
</form>
